<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Test</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>⌨️ Keyboard Practice!</h1>
            <p class="subtitle">Learn to type with fun!</p>
        </header>

        <!-- Step 0: Learning Path Selection -->
        <div class="setup-step step-0" id="step0">
            <div class="step-title">
                <h2>Choose Your Learning Path</h2>
            </div>

            <div class="learning-path-selector">
                <div class="path-option" data-path="lessons">
                    <div class="path-icon">📚</div>
                    <h3 class="path-title">Guided Lessons</h3>
                    <p class="path-description">Learn proper finger placement step-by-step, starting from home row keys</p>
                    <button class="btn btn-primary path-btn" id="selectLessonsBtn">Start Learning →</button>
                </div>

                <div class="path-option" data-path="practice">
                    <div class="path-icon">🎮</div>
                    <h3 class="path-title">Free Practice</h3>
                    <p class="path-description">Practice typing with custom settings if you already know the basics</p>
                    <button class="btn btn-secondary path-btn" id="selectPracticeBtn">Free Practice →</button>
                </div>
            </div>
        </div>

        <!-- Lesson Selection Screen -->
        <div class="setup-step lesson-selection hidden" id="lessonSelection">
            <div class="step-title">
                <h2>Choose a Lesson</h2>
                <p class="subtitle">Start from the beginning or continue where you left off</p>
            </div>

            <div class="lessons-grid" id="lessonsGrid">
                <!-- Lessons will be generated by JavaScript -->
            </div>

            <div class="step-navigation">
                <button class="btn btn-back" id="backToPath">← Back</button>
            </div>
        </div>

        <!-- Step 1: Mode and Difficulty Selection -->
        <div class="setup-step step-1 hidden" id="step1">
            <div class="step-title">
                <div class="step-number">Step 1 of 2</div>
                <h2>Choose Your Settings</h2>
            </div>

            <div class="mode-selector" id="modeSelector">
            <div class="mode-group">
                <label class="mode-label">Choose Mode:</label>
                <div class="mode-buttons">
                    <button class="mode-btn active" data-mode="letters">🔤 Letters</button>
                    <button class="mode-btn" data-mode="words">📝 Words</button>
                    <button class="mode-btn" data-mode="sentences">💬 Sentences</button>
                    <button class="mode-btn" data-mode="paragraphs">📄 Paragraphs</button>
                </div>
            </div>
            <div class="difficulty-group" id="difficultySelector">
                <label class="mode-label">Difficulty:</label>
                <div class="difficulty-buttons">
                    <button class="difficulty-btn active" data-difficulty="easy">😊 Easy</button>
                    <button class="difficulty-btn" data-difficulty="medium">😎 Medium</button>
                    <button class="difficulty-btn" data-difficulty="hard">🔥 Hard</button>
                </div>
            </div>
            <div class="quantity-group" id="quantitySelector">
                <label class="mode-label">Practice Length:</label>
                <div class="quantity-buttons">
                    <button class="quantity-btn active" data-quantity="10">📝 10 items</button>
                    <button class="quantity-btn" data-quantity="20">📝 20 items</button>
                    <button class="quantity-btn" data-quantity="50">📝 50 items</button>
                    <button class="quantity-btn" data-quantity="100">📝 100 items</button>
                </div>
            </div>

            <div class="step-navigation">
                <button class="btn btn-next" id="nextToStep2">Next →</button>
            </div>
            </div>
        </div>

        <!-- Step 2: Character Selection and Start -->
        <div class="setup-step step-2 hidden" id="step2">
            <div class="step-title">
                <div class="step-number">Step 2 of 2</div>
                <h2>Choose Your Racer & Start!</h2>
            </div>

            <div class="racing-game">
                <div class="character-selector" id="characterSelector">
                    <label class="character-label">Choose Your Racer:</label>
                    <div class="character-options">
                        <button class="character-btn active" data-character="🦖">🦖</button>
                        <button class="character-btn" data-character="🚗">🚗</button>
                        <button class="character-btn" data-character="🐱">🐱</button>
                        <button class="character-btn" data-character="🐶">🐶</button>
                        <button class="character-btn" data-character="🦁">🦁</button>
                        <button class="character-btn" data-character="🐯">🐯</button>
                        <button class="character-btn" data-character="🦈">🦈</button>
                        <button class="character-btn" data-character="🐴">🐴</button>
                        <button class="character-btn" data-character="🦄">🦄</button>
                        <button class="character-btn" data-character="🏎️">🏎️</button>
                        <button class="character-btn" data-character="🐢">🐢</button>
                        <button class="character-btn" data-character="🐰">🐰</button>
                        <button class="character-btn" data-character="🦅">🦅</button>
                        <button class="character-btn" data-character="🦋">🦋</button>
                        <button class="character-btn" data-character="🐉">🐉</button>
                    </div>
                </div>
            </div>

            <div class="step-navigation">
                <button class="btn btn-back" id="backToStep1">← Back</button>
                <button class="btn btn-primary" id="startBtn">Start Practice!</button>
            </div>
        </div>

        <!-- Game Area (Hidden until game starts) -->
        <div class="game-area hidden" id="gameArea">

        <!-- Lesson Info Panel -->
        <div class="lesson-info hidden" id="lessonInfo">
            <div class="lesson-header">
                <span class="lesson-emoji" id="lessonEmoji">🏠</span>
                <span class="lesson-title" id="lessonTitle">Home Row Foundation</span>
            </div>
            <div class="lesson-instructions" id="lessonInstructions">
                Place your fingers on the home row...
            </div>
            <div class="lesson-keys" id="lessonKeys">
                Allowed keys: A S D F J K L ;
            </div>
        </div>

        <div class="encouragement" id="encouragement"></div>

        <div class="progress-display hidden" id="progressDisplay">
            <div class="progress-label">📊 Progress</div>
            <div class="progress-value"><span id="itemsCompleted">0</span> / <span id="itemsTarget">10</span></div>
        </div>

        <div class="stats hidden">
            <div class="stat-box">
                <span class="stat-label">Score</span>
                <span class="stat-value" id="score">0</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">Level</span>
                <span class="stat-value" id="level">1</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">Streak</span>
                <span class="stat-value" id="streak">0</span>
            </div>
        </div>

        <div class="practice-area">
            <div class="target-text" id="targetText">A</div>
            <div class="message hidden" id="message">Type what you see above!</div>
            <div class="typing-stats hidden" id="typingStats">
                <span class="wpm">WPM: <span id="wpm">0</span></span>
                <span class="accuracy">Accuracy: <span id="accuracy">100</span>%</span>
            </div>
        </div>

        

        <div class="racing-game">
            <div class="race-header">
                <div class="race-title">🏁 Race! 🏁</div>
                <div class="race-progress">
                    <span>Progress: <span id="raceProgress">0</span>%</span>
                </div>
            </div>
            <div class="race-track">
                <div class="track-lane player-lane">
                    <div class="lane-bg"></div>
                    <div class="dino-runner player-dino" id="playerDino">🦖</div>
                    <div class="finish-line">🏁</div>
                    <div class="collectibles" id="playerCollectibles"></div>
                </div>
            </div>
            <div class="race-items">
                <div class="item-counter">
                    <span class="item-icon">⭐</span>
                    <span class="item-count" id="starCount">0</span>
                </div>
                <div class="item-counter">
                    <span class="item-icon">💎</span>
                    <span class="item-count" id="gemCount">0</span>
                </div>
                <div class="item-counter">
                    <span class="item-icon">🍖</span>
                    <span class="item-count" id="meatCount">0</span>
                </div>
            </div>
        </div>

        <div class="hands-visual">
            <div class="hand left-hand">
                <div class="hand-shape">
                    <div class="palm left-palm">
                        
                        <div class="fingers-container">
                            <div class="finger-visual pinky-l-visual" data-finger="pinky-l">
                                <div class="finger-tip"></div>
                                <div class="finger-middle"></div>
                                <div class="finger-base"></div>
                            </div>
                            <div class="finger-visual ring-l-visual" data-finger="ring-l">
                                <div class="finger-tip"></div>
                                <div class="finger-middle"></div>
                                <div class="finger-base"></div>
                            </div>
                            <div class="finger-visual middle-l-visual" data-finger="middle-l">
                                <div class="finger-tip"></div>
                                <div class="finger-middle"></div>
                                <div class="finger-base"></div>
                            </div>
                            <div class="finger-visual index-l-visual" data-finger="index-l">
                                <div class="finger-tip"></div>
                                <div class="finger-middle"></div>
                                <div class="finger-base"></div>
                            </div>
                        </div>
                        <div class="palm-base"></div>
                    </div>
                </div>
            </div>
            <div class="hand right-hand">
                <div class="hand-shape">
                    <div class="palm right-palm">
                        <div class="palm-base"></div>
                        <div class="fingers-container">
                            <div class="finger-visual index-r-visual" data-finger="index-r">
                                <div class="finger-tip"></div>
                                <div class="finger-middle"></div>
                                <div class="finger-base"></div>
                            </div>
                            <div class="finger-visual middle-r-visual" data-finger="middle-r">
                                <div class="finger-tip"></div>
                                <div class="finger-middle"></div>
                                <div class="finger-base"></div>
                            </div>
                            <div class="finger-visual ring-r-visual" data-finger="ring-r">
                                <div class="finger-tip"></div>
                                <div class="finger-middle"></div>
                                <div class="finger-base"></div>
                            </div>
                            <div class="finger-visual pinky-r-visual" data-finger="pinky-r">
                                <div class="finger-tip"></div>
                                <div class="finger-middle"></div>
                                <div class="finger-base"></div>
                            </div>
                        </div>
                      
                    </div>
                </div>
                
            </div>
        </div>

        <div class="keyboard-visual">
            <svg id="keyboard" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 350" preserveAspectRatio="xMidYMid meet">
              <rect width="1100" height="350" fill="#f8f9fa"/>

              <defs>
                <style>
                  .key-rect { cursor: pointer; transition: transform 0.1s ease, fill 0.2s ease; }
                  .left-pinky { fill: #ffb6b6; }
                  .left-ring { fill: #ffd59e; }
                  .left-middle { fill: #fff59d; }
                  .left-index { fill: #a5d6a7; }
                  .right-index { fill: #81d4fa; }
                  .right-middle { fill: #64b5f6; }
                  .right-ring { fill: #ba68c8; }
                  .right-pinky { fill: #f48fb1; }
                  .key-text { font-size: 18px; font-weight: bold; fill: #333; pointer-events: none; user-select: none; }
                </style>
              </defs>

              <g id="keys" transform="translate(50,30)">
                <!-- Row 1 -->
                <g id="row1">
                  <rect id="TAB" x="0" y="0" width="70" height="60" rx="8" class="key-rect left-pinky"/><text x="35" y="38" text-anchor="middle" class="key-text">Tab</text>
                  <rect id="Q" x="80" y="0" width="60" height="60" rx="8" class="key-rect left-pinky"/><text x="110" y="38" text-anchor="middle" class="key-text">Q</text>
                  <rect id="W" x="150" y="0" width="60" height="60" rx="8" class="key-rect left-ring"/><text x="180" y="38" text-anchor="middle" class="key-text">W</text>
                  <rect id="E" x="220" y="0" width="60" height="60" rx="8" class="key-rect left-middle"/><text x="250" y="38" text-anchor="middle" class="key-text">E</text>
                  <rect id="R" x="290" y="0" width="60" height="60" rx="8" class="key-rect left-index"/><text x="320" y="38" text-anchor="middle" class="key-text">R</text>
                  <rect id="T" x="360" y="0" width="60" height="60" rx="8" class="key-rect left-index"/><text x="390" y="38" text-anchor="middle" class="key-text">T</text>
                  <rect id="Y" x="430" y="0" width="60" height="60" rx="8" class="key-rect right-index"/><text x="460" y="38" text-anchor="middle" class="key-text">Y</text>
                  <rect id="U" x="500" y="0" width="60" height="60" rx="8" class="key-rect right-index"/><text x="530" y="38" text-anchor="middle" class="key-text">U</text>
                  <rect id="I" x="570" y="0" width="60" height="60" rx="8" class="key-rect right-middle"/><text x="600" y="38" text-anchor="middle" class="key-text">I</text>
                  <rect id="O" x="640" y="0" width="60" height="60" rx="8" class="key-rect right-ring"/><text x="670" y="38" text-anchor="middle" class="key-text">O</text>
                  <rect id="P" x="710" y="0" width="60" height="60" rx="8" class="key-rect right-pinky"/><text x="740" y="38" text-anchor="middle" class="key-text">P</text>
                  <rect id="[" x="780" y="0" width="60" height="60" rx="8" class="key-rect right-pinky"/><text x="810" y="38" text-anchor="middle" class="key-text">[</text>
                  <rect id="]" x="850" y="0" width="60" height="60" rx="8" class="key-rect right-pinky"/><text x="880" y="38" text-anchor="middle" class="key-text">]</text>
                  <rect id="\\" x="920" y="0" width="60" height="60" rx="8" class="key-rect right-pinky"/><text x="950" y="38" text-anchor="middle" class="key-text">\\</text>
                </g>

                <!-- Row 2 -->
                <g id="row2" transform="translate(20,80)">
                  <rect id="CAPSLOCK" x="0" y="0" width="90" height="60" rx="8" class="key-rect left-pinky"/><text x="45" y="38" text-anchor="middle" class="key-text">Caps</text>
                  <rect id="A" x="100" y="0" width="60" height="60" rx="8" class="key-rect left-pinky"/><text x="130" y="38" text-anchor="middle" class="key-text">A</text>
                  <rect id="S" x="170" y="0" width="60" height="60" rx="8" class="key-rect left-ring"/><text x="200" y="38" text-anchor="middle" class="key-text">S</text>
                  <rect id="D" x="240" y="0" width="60" height="60" rx="8" class="key-rect left-middle"/><text x="270" y="38" text-anchor="middle" class="key-text">D</text>
                  <rect id="F" x="310" y="0" width="60" height="60" rx="8" class="key-rect left-index"/><text x="340" y="38" text-anchor="middle" class="key-text">F</text>
                  <rect id="G" x="380" y="0" width="60" height="60" rx="8" class="key-rect left-index"/><text x="410" y="38" text-anchor="middle" class="key-text">G</text>
                  <rect id="H" x="450" y="0" width="60" height="60" rx="8" class="key-rect right-index"/><text x="480" y="38" text-anchor="middle" class="key-text">H</text>
                  <rect id="J" x="520" y="0" width="60" height="60" rx="8" class="key-rect right-index"/><text x="550" y="38" text-anchor="middle" class="key-text">J</text>
                  <rect id="K" x="590" y="0" width="60" height="60" rx="8" class="key-rect right-middle"/><text x="620" y="38" text-anchor="middle" class="key-text">K</text>
                  <rect id="L" x="660" y="0" width="60" height="60" rx="8" class="key-rect right-ring"/><text x="690" y="38" text-anchor="middle" class="key-text">L</text>
                  <rect id=";" x="730" y="0" width="60" height="60" rx="8" class="key-rect right-pinky"/><text x="760" y="38" text-anchor="middle" class="key-text">;</text>
                  <rect id="'" x="800" y="0" width="60" height="60" rx="8" class="key-rect right-pinky"/><text x="830" y="38" text-anchor="middle" class="key-text">'</text>
                  <rect id="ENTER" x="870" y="0" width="100" height="60" rx="8" class="key-rect right-pinky"/><text x="920" y="38" text-anchor="middle" class="key-text">Enter</text>
                </g>

                <!-- Row 3 -->
                <g id="row3" transform="translate(40,160)">
                  <rect id="SHIFTLEFT" x="0" y="0" width="110" height="60" rx="8" class="key-rect left-pinky"/><text x="55" y="38" text-anchor="middle" class="key-text">Shift</text>
                  <rect id="Z" x="120" y="0" width="60" height="60" rx="8" class="key-rect left-pinky"/><text x="150" y="38" text-anchor="middle" class="key-text">Z</text>
                  <rect id="X" x="190" y="0" width="60" height="60" rx="8" class="key-rect left-ring"/><text x="220" y="38" text-anchor="middle" class="key-text">X</text>
                  <rect id="C" x="260" y="0" width="60" height="60" rx="8" class="key-rect left-middle"/><text x="290" y="38" text-anchor="middle" class="key-text">C</text>
                  <rect id="V" x="330" y="0" width="60" height="60" rx="8" class="key-rect left-index"/><text x="360" y="38" text-anchor="middle" class="key-text">V</text>
                  <rect id="B" x="400" y="0" width="60" height="60" rx="8" class="key-rect left-index"/><text x="430" y="38" text-anchor="middle" class="key-text">B</text>
                  <rect id="N" x="470" y="0" width="60" height="60" rx="8" class="key-rect right-index"/><text x="500" y="38" text-anchor="middle" class="key-text">N</text>
                  <rect id="M" x="540" y="0" width="60" height="60" rx="8" class="key-rect right-index"/><text x="570" y="38" text-anchor="middle" class="key-text">M</text>
                  <rect id="," x="610" y="0" width="60" height="60" rx="8" class="key-rect right-middle"/><text x="640" y="38" text-anchor="middle" class="key-text">,</text>
                  <rect id="." x="680" y="0" width="60" height="60" rx="8" class="key-rect right-middle"/><text x="710" y="38" text-anchor="middle" class="key-text">.</text>
                  <rect id="/" x="750" y="0" width="60" height="60" rx="8" class="key-rect right-pinky"/><text x="780" y="38" text-anchor="middle" class="key-text">/</text>
                  <rect id="SHIFTRIGHT" x="820" y="0" width="110" height="60" rx="8" class="key-rect right-pinky"/><text x="875" y="38" text-anchor="middle" class="key-text">Shift</text>
                </g>

                <!-- Bottom row -->
                <g id="row4" transform="translate(30,240)">
                  <rect id="CTRLLEFT" x="0" y="0" width="80" height="60" rx="8" class="key-rect left-pinky"/><text x="40" y="38" text-anchor="middle" class="key-text">Ctrl</text>
                  <rect id="ALTLEFT" x="90" y="0" width="80" height="60" rx="8" class="key-rect left-ring"/><text x="130" y="38" text-anchor="middle" class="key-text">Alt</text>
                  <rect id="SPACE" x="180" y="0" width="400" height="60" rx="8" class="key-rect" fill="#e0f7fa"/><text x="380" y="38" text-anchor="middle" class="key-text">Space</text>
                  <rect id="ALTRIGHT" x="590" y="0" width="80" height="60" rx="8" class="key-rect right-ring"/><text x="630" y="38" text-anchor="middle" class="key-text">Alt</text>
                  <rect id="CTRLRIGHT" x="680" y="0" width="80" height="60" rx="8" class="key-rect right-pinky"/><text x="720" y="38" text-anchor="middle" class="key-text">Ctrl</text>
                </g>
              </g>
            </svg>
        </div>

        <div class="controls" id="controlsSection">
            <button class="btn btn-secondary" id="resetBtn">Reset</button>
            <button class="btn btn-sound" id="soundBtn">🔊 Sound ON</button>
        </div>
        </div>
        <!-- End Game Area -->

        <!-- Lesson Start Modal -->
        <div class="lesson-start-modal hidden" id="lessonStartModal">
            <div class="lesson-start-modal-content">
                <div class="lesson-start-icon" id="lessonStartEmoji">🏠</div>
                <h2 class="lesson-start-title" id="lessonStartTitle">Home Row Foundation</h2>
                <div class="lesson-start-instructions" id="lessonStartInstructions">
                    Place your fingers on the home row keys. This is the foundation of touch typing!
                </div>
                <div class="lesson-start-keys" id="lessonStartKeys">
                    Keys you'll practice: A S D F J K L ;
                </div>
                <button class="btn btn-primary btn-large" id="startLessonBtn">Start Typing! 🚀</button>
            </div>
        </div>

        <!-- Win Modal -->
        <div class="win-modal hidden" id="winModal">
            <div class="win-modal-content">
                <div class="win-icon">🏆</div>
                <h2 class="win-title">Congratulations!</h2>
                <p class="win-message">You won the race!</p>
                <div class="win-stats" id="winStats"></div>
                <div class="win-buttons">
                    <button class="btn btn-primary" id="nextLessonBtn">Next Lesson →</button>
                    <button class="btn btn-secondary" id="resetFromWinBtn">Reset</button>
                </div>
            </div>
        </div>
    </div>

    <script src="typing-content.js"></script>
    <script src="script.js"></script>
</body>
</html>
