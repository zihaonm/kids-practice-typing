<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Test</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>⌨️ Keyboard Practice!</h1>
            <p class="subtitle">Learn to type with fun!</p>
        </header>

        <!-- Step 0: Learning Path Selection -->
        <div class="setup-step step-0" id="step0">
            <div class="step-title">
                <h2>Choose Your Learning Path</h2>
            </div>

            <div class="learning-path-selector">
                <div class="path-option" data-path="lessons">
                    <div class="path-icon">📚</div>
                    <h3 class="path-title">Guided Lessons</h3>
                    <p class="path-description">Learn proper finger placement step-by-step, starting from home row keys</p>
                    <button class="btn btn-primary path-btn" id="selectLessonsBtn">Start Learning →</button>
                </div>

                <div class="path-option" data-path="practice">
                    <div class="path-icon">🎮</div>
                    <h3 class="path-title">Free Practice</h3>
                    <p class="path-description">Practice typing with custom settings if you already know the basics</p>
                    <button class="btn btn-secondary path-btn" id="selectPracticeBtn">Free Practice →</button>
                </div>

                <div class="path-option" data-path="multiplayer">
                    <div class="path-icon">🏁</div>
                    <h3 class="path-title">Multiplayer Race</h3>
                    <p class="path-description">Compete with players around the world in real-time typing races!</p>
                    <a href="multiplayer.html" class="btn btn-primary path-btn">Join Race →</a>
                </div>
            </div>
        </div>

        <!-- Lesson Selection Screen -->
        <div class="setup-step lesson-selection hidden" id="lessonSelection">
            <div class="step-title">
                <h2>Choose a Lesson</h2>
                <p class="subtitle">Start from the beginning or continue where you left off</p>
            </div>

            <div class="lessons-grid" id="lessonsGrid">
                <!-- Lessons will be generated by JavaScript -->
            </div>

            <div class="step-navigation">
                <button class="btn btn-back" id="backToPath">← Back</button>
            </div>
        </div>

        <!-- Step 1: Mode and Difficulty Selection -->
        <div class="setup-step step-1 hidden" id="step1">
            <div class="step-title">
                <div class="step-number">Step 1 of 2</div>
                <h2>Choose Your Settings</h2>
            </div>

            <div class="mode-selector" id="modeSelector">
            <div class="mode-group">
                <label class="mode-label">Choose Mode:</label>
                <div class="mode-buttons">
                    <button class="mode-btn active" data-mode="letters">🔤 Letters</button>
                    <button class="mode-btn" data-mode="words">📝 Words</button>
                    <button class="mode-btn" data-mode="sentences">💬 Sentences</button>
                    <button class="mode-btn" data-mode="paragraphs">📄 Paragraphs</button>
                </div>
            </div>
            <div class="difficulty-group" id="difficultySelector">
                <label class="mode-label">Difficulty:</label>
                <div class="difficulty-buttons">
                    <button class="difficulty-btn active" data-difficulty="easy">😊 Easy</button>
                    <button class="difficulty-btn" data-difficulty="medium">😎 Medium</button>
                    <button class="difficulty-btn" data-difficulty="hard">🔥 Hard</button>
                </div>
            </div>

            <div class="step-navigation">
                <button class="btn btn-next" id="nextToStep2">Next →</button>
            </div>
            </div>
        </div>

        <!-- Step 2: Character Selection and Start -->
        <div class="setup-step step-2 hidden" id="step2">
            <div class="step-title">
                <div class="step-number">Step 2 of 2</div>
                <h2>Choose Your Racer & Start!</h2>
            </div>

            <div class="racing-game">
                <div class="character-selector" id="characterSelector">
                    <label class="character-label">Choose Your Racer:</label>
                    <div class="character-options">
                        <button class="character-btn active" data-character="🦖">🦖</button>
                        <button class="character-btn" data-character="🚗">🚗</button>
                        <button class="character-btn" data-character="🐱">🐱</button>
                        <button class="character-btn" data-character="🐶">🐶</button>
                        <button class="character-btn" data-character="🦁">🦁</button>
                        <button class="character-btn" data-character="🐯">🐯</button>
                        <button class="character-btn" data-character="🦈">🦈</button>
                        <button class="character-btn" data-character="🐴">🐴</button>
                        <button class="character-btn" data-character="🦄">🦄</button>
                        <button class="character-btn" data-character="🏎️">🏎️</button>
                        <button class="character-btn" data-character="🐢">🐢</button>
                        <button class="character-btn" data-character="🐰">🐰</button>
                        <button class="character-btn" data-character="🦅">🦅</button>
                        <button class="character-btn" data-character="🦋">🦋</button>
                        <button class="character-btn" data-character="🐉">🐉</button>
                    </div>
                </div>

                <div class="quantity-group" id="quantitySelector">
                    <label class="character-label">Practice Length:</label>
                    <div class="quantity-buttons">
                        <button class="quantity-btn active" data-quantity="10">📝 10 items</button>
                        <button class="quantity-btn" data-quantity="20">📝 20 items</button>
                        <button class="quantity-btn" data-quantity="50">📝 50 items</button>
                        <button class="quantity-btn" data-quantity="100">📝 100 items</button>
                    </div>
                </div>
            </div>

            <div class="step-navigation">
                <button class="btn btn-back" id="backToStep1">← Back</button>
                <button class="btn btn-primary" id="startBtn">Start Practice!</button>
            </div>
        </div>

        <!-- Game Area (Hidden until game starts) -->
        <div class="game-area hidden" id="gameArea">

        <!-- Lesson Info Panel -->
        <div class="lesson-info hidden" id="lessonInfo">
            <div class="lesson-header">
                <span class="lesson-emoji" id="lessonEmoji">🏠</span>
                <span class="lesson-title" id="lessonTitle">Home Row Foundation</span>
            </div>
            <div class="lesson-instructions" id="lessonInstructions">
                Place your fingers on the home row...
            </div>
            <div class="lesson-keys" id="lessonKeys">
                Allowed keys: A S D F J K L ;
            </div>
        </div>

        <div class="encouragement" id="encouragement"></div>

        <div class="progress-display hidden" id="progressDisplay">
            <div class="progress-label">📊 Progress</div>
            <div class="progress-value"><span id="itemsCompleted">0</span> / <span id="itemsTarget">10</span></div>
        </div>

        <div class="stats hidden">
            <div class="stat-box">
                <span class="stat-label">Score</span>
                <span class="stat-value" id="score">0</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">Level</span>
                <span class="stat-value" id="level">1</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">Streak</span>
                <span class="stat-value" id="streak">0</span>
            </div>
        </div>

        <div class="practice-area">
            <div class="target-text" id="targetText">A</div>
            <div class="message hidden" id="message">Type what you see above!</div>
            <div class="typing-stats hidden" id="typingStats">
                <span class="wpm">WPM: <span id="wpm">0</span></span>
                <span class="accuracy">Accuracy: <span id="accuracy">100</span>%</span>
            </div>
        </div>

        

        <div class="racing-game">
            <div class="race-header">
                <div class="race-title">🏁 Race! 🏁</div>
                <div class="race-progress">
                    <span>Progress: <span id="raceProgress">0</span>%</span>
                </div>
            </div>
            <div class="race-track">
                <div class="track-lane player-lane">
                    <div class="lane-bg"></div>
                    <div class="dino-runner player-dino" id="playerDino">🦖</div>
                    <div class="finish-line">🏁</div>
                    <div class="collectibles" id="playerCollectibles"></div>
                </div>
            </div>
            <div class="race-items">
                <div class="item-counter">
                    <span class="item-icon">⭐</span>
                    <span class="item-count" id="starCount">0</span>
                </div>
                <div class="item-counter">
                    <span class="item-icon">💎</span>
                    <span class="item-count" id="gemCount">0</span>
                </div>
                <div class="item-counter">
                    <span class="item-icon">🍖</span>
                    <span class="item-count" id="meatCount">0</span>
                </div>
            </div>
        </div>

        <div class="hands-visual">
            <div class="hand left-hand">
                <div class="hand-shape">
                    <div class="palm left-palm">
                        
                        <div class="fingers-container">
                            <div class="finger-visual pinky-l-visual" data-finger="pinky-l">
                                <div class="finger-tip"></div>
                                <div class="finger-middle"></div>
                                <div class="finger-base"></div>
                            </div>
                            <div class="finger-visual ring-l-visual" data-finger="ring-l">
                                <div class="finger-tip"></div>
                                <div class="finger-middle"></div>
                                <div class="finger-base"></div>
                            </div>
                            <div class="finger-visual middle-l-visual" data-finger="middle-l">
                                <div class="finger-tip"></div>
                                <div class="finger-middle"></div>
                                <div class="finger-base"></div>
                            </div>
                            <div class="finger-visual index-l-visual" data-finger="index-l">
                                <div class="finger-tip"></div>
                                <div class="finger-middle"></div>
                                <div class="finger-base"></div>
                            </div>
                        </div>
                        <div class="palm-base"></div>
                    </div>
                </div>
            </div>
            <div class="hand right-hand">
                <div class="hand-shape">
                    <div class="palm right-palm">
                        <div class="palm-base"></div>
                        <div class="fingers-container">
                            <div class="finger-visual index-r-visual" data-finger="index-r">
                                <div class="finger-tip"></div>
                                <div class="finger-middle"></div>
                                <div class="finger-base"></div>
                            </div>
                            <div class="finger-visual middle-r-visual" data-finger="middle-r">
                                <div class="finger-tip"></div>
                                <div class="finger-middle"></div>
                                <div class="finger-base"></div>
                            </div>
                            <div class="finger-visual ring-r-visual" data-finger="ring-r">
                                <div class="finger-tip"></div>
                                <div class="finger-middle"></div>
                                <div class="finger-base"></div>
                            </div>
                            <div class="finger-visual pinky-r-visual" data-finger="pinky-r">
                                <div class="finger-tip"></div>
                                <div class="finger-middle"></div>
                                <div class="finger-base"></div>
                            </div>
                        </div>
                      
                    </div>
                </div>
                
            </div>
        </div>

        <div class="keyboard-visual">
            <svg id="keyboard" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 280" preserveAspectRatio="xMidYMid meet">
              <rect width="900" height="280" fill="#f8f9fa"/>

              <defs>
                <style>
                  .key-rect { cursor: pointer; transition: transform 0.1s ease, fill 0.2s ease; }
                  .left-pinky { fill: #ffb6b6; }
                  .left-ring { fill: #ffd59e; }
                  .left-middle { fill: #fff59d; }
                  .left-index { fill: #a5d6a7; }
                  .right-index { fill: #81d4fa; }
                  .right-middle { fill: #64b5f6; }
                  .right-ring { fill: #ba68c8; }
                  .right-pinky { fill: #f48fb1; }
                  .key-text { font-size: 18px; font-weight: bold; fill: #333; pointer-events: none; user-select: none; }
                </style>
              </defs>
              <g id="keys" transform="translate(30,20)">
                <!-- Row 1 -->
                <g id="row1">
                  <rect id="TAB" x="0" y="0" width="55" height="48" rx="6" class="key-rect left-pinky"/><text x="27.5" y="32" text-anchor="middle" class="key-text">Tab</text>
                  <rect id="Q" x="60" y="0" width="48" height="48" rx="6" class="key-rect left-pinky"/><text x="84" y="32" text-anchor="middle" class="key-text">Q</text>
                  <rect id="W" x="113" y="0" width="48" height="48" rx="6" class="key-rect left-ring"/><text x="137" y="32" text-anchor="middle" class="key-text">W</text>
                  <rect id="E" x="166" y="0" width="48" height="48" rx="6" class="key-rect left-middle"/><text x="190" y="32" text-anchor="middle" class="key-text">E</text>
                  <rect id="R" x="219" y="0" width="48" height="48" rx="6" class="key-rect left-index"/><text x="243" y="32" text-anchor="middle" class="key-text">R</text>
                  <rect id="T" x="272" y="0" width="48" height="48" rx="6" class="key-rect left-index"/><text x="296" y="32" text-anchor="middle" class="key-text">T</text>
                  <rect id="Y" x="325" y="0" width="48" height="48" rx="6" class="key-rect right-index"/><text x="349" y="32" text-anchor="middle" class="key-text">Y</text>
                  <rect id="U" x="378" y="0" width="48" height="48" rx="6" class="key-rect right-index"/><text x="402" y="32" text-anchor="middle" class="key-text">U</text>
                  <rect id="I" x="431" y="0" width="48" height="48" rx="6" class="key-rect right-middle"/><text x="455" y="32" text-anchor="middle" class="key-text">I</text>
                  <rect id="O" x="484" y="0" width="48" height="48" rx="6" class="key-rect right-ring"/><text x="508" y="32" text-anchor="middle" class="key-text">O</text>
                  <rect id="P" x="537" y="0" width="48" height="48" rx="6" class="key-rect right-pinky"/><text x="561" y="32" text-anchor="middle" class="key-text">P</text>
                  <rect id="[" x="590" y="0" width="48" height="48" rx="6" class="key-rect right-pinky"/><text x="614" y="32" text-anchor="middle" class="key-text">[</text>
                  <rect id="]" x="643" y="0" width="48" height="48" rx="6" class="key-rect right-pinky"/><text x="667" y="32" text-anchor="middle" class="key-text">]</text>
                  <rect id="\\" x="696" y="0" width="48" height="48" rx="6" class="key-rect right-pinky"/><text x="720" y="32" text-anchor="middle" class="key-text">\\</text>
                </g>

                <!-- Row 2 -->
                <g id="row2" transform="translate(15,53)">
                  <rect id="CAPSLOCK" x="0" y="0" width="70" height="48" rx="6" class="key-rect left-pinky"/><text x="35" y="32" text-anchor="middle" class="key-text">Caps</text>
                  <rect id="A" x="75" y="0" width="48" height="48" rx="6" class="key-rect left-pinky"/><text x="99" y="32" text-anchor="middle" class="key-text">A</text>
                  <rect id="S" x="128" y="0" width="48" height="48" rx="6" class="key-rect left-ring"/><text x="152" y="32" text-anchor="middle" class="key-text">S</text>
                  <rect id="D" x="181" y="0" width="48" height="48" rx="6" class="key-rect left-middle"/><text x="205" y="32" text-anchor="middle" class="key-text">D</text>
                  <rect id="F" x="234" y="0" width="48" height="48" rx="6" class="key-rect left-index"/><text x="258" y="32" text-anchor="middle" class="key-text">F</text>
                  <rect id="G" x="287" y="0" width="48" height="48" rx="6" class="key-rect left-index"/><text x="311" y="32" text-anchor="middle" class="key-text">G</text>
                  <rect id="H" x="340" y="0" width="48" height="48" rx="6" class="key-rect right-index"/><text x="364" y="32" text-anchor="middle" class="key-text">H</text>
                  <rect id="J" x="393" y="0" width="48" height="48" rx="6" class="key-rect right-index"/><text x="417" y="32" text-anchor="middle" class="key-text">J</text>
                  <rect id="K" x="446" y="0" width="48" height="48" rx="6" class="key-rect right-middle"/><text x="470" y="32" text-anchor="middle" class="key-text">K</text>
                  <rect id="L" x="499" y="0" width="48" height="48" rx="6" class="key-rect right-ring"/><text x="523" y="32" text-anchor="middle" class="key-text">L</text>
                  <rect id=";" x="552" y="0" width="48" height="48" rx="6" class="key-rect right-pinky"/><text x="576" y="32" text-anchor="middle" class="key-text">;</text>
                  <rect id="'" x="605" y="0" width="48" height="48" rx="6" class="key-rect right-pinky"/><text x="629" y="32" text-anchor="middle" class="key-text">'</text>
                  <rect id="ENTER" x="658" y="0" width="76" height="48" rx="6" class="key-rect right-pinky"/><text x="696" y="32" text-anchor="middle" class="key-text">Enter</text>
                </g>

                <!-- Row 3 -->
                <g id="row3" transform="translate(30,106)">
                  <rect id="SHIFTLEFT" x="0" y="0" width="85" height="48" rx="6" class="key-rect left-pinky"/><text x="42.5" y="32" text-anchor="middle" class="key-text">Shift</text>
                  <rect id="Z" x="90" y="0" width="48" height="48" rx="6" class="key-rect left-pinky"/><text x="114" y="32" text-anchor="middle" class="key-text">Z</text>
                  <rect id="X" x="143" y="0" width="48" height="48" rx="6" class="key-rect left-ring"/><text x="167" y="32" text-anchor="middle" class="key-text">X</text>
                  <rect id="C" x="196" y="0" width="48" height="48" rx="6" class="key-rect left-middle"/><text x="220" y="32" text-anchor="middle" class="key-text">C</text>
                  <rect id="V" x="249" y="0" width="48" height="48" rx="6" class="key-rect left-index"/><text x="273" y="32" text-anchor="middle" class="key-text">V</text>
                  <rect id="B" x="302" y="0" width="48" height="48" rx="6" class="key-rect left-index"/><text x="326" y="32" text-anchor="middle" class="key-text">B</text>
                  <rect id="N" x="355" y="0" width="48" height="48" rx="6" class="key-rect right-index"/><text x="379" y="32" text-anchor="middle" class="key-text">N</text>
                  <rect id="M" x="408" y="0" width="48" height="48" rx="6" class="key-rect right-index"/><text x="432" y="32" text-anchor="middle" class="key-text">M</text>
                  <rect id="," x="461" y="0" width="48" height="48" rx="6" class="key-rect right-middle"/><text x="485" y="32" text-anchor="middle" class="key-text">,</text>
                  <rect id="." x="514" y="0" width="48" height="48" rx="6" class="key-rect right-middle"/><text x="538" y="32" text-anchor="middle" class="key-text">.</text>
                  <rect id="/" x="567" y="0" width="48" height="48" rx="6" class="key-rect right-pinky"/><text x="591" y="32" text-anchor="middle" class="key-text">/</text>
                  <rect id="SHIFTRIGHT" x="620" y="0" width="85" height="48" rx="6" class="key-rect right-pinky"/><text x="662.5" y="32" text-anchor="middle" class="key-text">Shift</text>
                </g>

                <!-- Bottom row -->
                <g id="row4" transform="translate(20,159)">
                  <rect id="CTRLLEFT" x="0" y="0" width="62" height="48" rx="6" class="key-rect left-pinky"/><text x="31" y="32" text-anchor="middle" class="key-text">Ctrl</text>
                  <rect id="ALTLEFT" x="67" y="0" width="62" height="48" rx="6" class="key-rect left-ring"/><text x="98" y="32" text-anchor="middle" class="key-text">Alt</text>
                  <rect id="SPACE" x="134" y="0" width="320" height="48" rx="6" class="key-rect" fill="#e0f7fa"/><text x="294" y="32" text-anchor="middle" class="key-text">Space</text>
                  <rect id="ALTRIGHT" x="459" y="0" width="62" height="48" rx="6" class="key-rect right-ring"/><text x="490" y="32" text-anchor="middle" class="key-text">Alt</text>
                  <rect id="CTRLRIGHT" x="526" y="0" width="62" height="48" rx="6" class="key-rect right-pinky"/><text x="557" y="32" text-anchor="middle" class="key-text">Ctrl</text>
                </g>
              </g>
            </svg>
        </div>

        <div class="controls" id="controlsSection">
            <button class="btn btn-secondary" id="resetBtn">Reset</button>
            <button class="btn btn-sound" id="soundBtn">🔊 Sound ON</button>
        </div>
        </div>
        <!-- End Game Area -->

        <!-- Lesson Start Modal -->
        <div class="lesson-start-modal hidden" id="lessonStartModal">
            <div class="lesson-start-modal-content">
                <div class="lesson-start-icon" id="lessonStartEmoji">🏠</div>
                <h2 class="lesson-start-title" id="lessonStartTitle">Home Row Foundation</h2>
                <div class="lesson-start-instructions" id="lessonStartInstructions">
                    Place your fingers on the home row keys. This is the foundation of touch typing!
                </div>
                <div class="lesson-start-keys" id="lessonStartKeys">
                    Keys you'll practice: A S D F J K L ;
                </div>
                <button class="btn btn-primary btn-large" id="startLessonBtn">Start Typing! 🚀</button>
            </div>
        </div>

        <!-- Win Modal -->
        <div class="win-modal hidden" id="winModal">
            <div class="win-modal-content">
                <div class="win-icon">🏆</div>
                <h2 class="win-title">Congratulations!</h2>
                <p class="win-message">You won the race!</p>
                <div class="win-stats" id="winStats"></div>
                <div class="win-buttons">
                    <button class="btn btn-primary" id="nextLessonBtn">Next Lesson →</button>
                    <button class="btn btn-secondary" id="resetFromWinBtn">Reset</button>
                </div>
            </div>
        </div>
    </div>

    <script src="typing-content.js"></script>
    <script src="script.js"></script>
</body>
</html>
